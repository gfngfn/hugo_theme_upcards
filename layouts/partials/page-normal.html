{{ $page := . }}
<div class="jumbotron bg-light upcards-single-heading">
  <div class="mx-auto upcards-single-board">
    <h1 class="upcards-single-board-title">{{ $page.Title }}</h1>
    {{ if eq $page.Section "posts" }}
      {{ partial "metadata.html" $page }}
    {{ end }}
  </div>
</div>
<div id="toc" class="upcards-toc">
  <h3 class="mt-3">Contents</h3><span id="dummy"></span>
  {{ $page.TableOfContents }}
</div>
<div class="upcards-single-content">
  <div class="mx-auto upcards-single-board">
    {{ $page.Content }}
  </div>
</div>
<script type="text/javascript">
  const minScrollForFixed = 300;
  const fixed = 30;
  const tocElement = document.getElementById("toc");
  const dummy = document.getElementById("dummy");
  window.addEventListener('scroll', (event) => {
    const scrollTop = document.documentElement.scrollTop;
    if (scrollTop < minScrollForFixed) {
      tocElement.style.top = "" + (fixed + (minScrollForFixed - scrollTop)) + "px";
    } else {
      tocElement.style.top = "" + fixed + "px";
    }
    dummy.innerHTML = "" + scrollTop + "px";
    return;
  });
</script>
